\chapter{倫理ある商取引ゲーム}
前章では合理的なプレイヤー達による「商取引ゲーム」において、不正を防止するインセンティブ設計が不可能であることを示した。
しかしながら、現実に住む我々は商取引で必ず不正に合うわけではなく、ある程度は不正が防止されている。
本章では、この理論と現実の差異は限定合理性にあると考え、
そうした戦略をとるプレイヤーのみで構成されたときに不正を防止することができる「倫理ある商取引ゲーム」をモデリングする。
そして、そのモデルが全ての戦略をとりえるプレイヤーによって構成された「商取引ゲーム」においても、
プレイヤーの構成次第で不正を防止するインセンティブ設計として機能することを示す。

\section{本章における問題提起}
前章では商取引ゲームにおいて必ず不正が防止できるようなインセンティブの設計が不可能であることを示した。
しかしながら、現実的に私達は商取引で不正行為に遭遇することは稀である。
なぜ先の理論では商取引で不正を防止するインセンティブ設計ができないにも関わらず、
現実の生活の中で我々は商取引を成功させることができているのだろうか。

\section{本章の仮説}
% この問いの答えは、限定合理性(Simon 1947\cite{simon 1947})によって戦略の均衡点が変化し、
不正を防止できるインセンティブ設計が可能になっているためだと思われる。
限定合理性とは、認知能力の限界によって意思決定主体が限られた合理性しか持ち得ないことである。
各プレイヤーにとっての最適な戦略は他のプレイヤーがとる戦略に依存しているため、
当然、一部のプレイヤーが合理的に戦略を選ばないのであれば最適な戦略の均衡点も変化する。
それによって、全てのプレイヤーが合理的である「商取引ゲーム」においては不可能だった
相手が不正を行う可能性を推定することが可能になり、不正を防止するインセンティブ設計が可能になると予想される。

\section{提案手法}
このような限定合理性を「倫理」と呼び、不正行為にあった場合に必ず「失敗」を報告する行動規範とする。
また、この倫理に従うプレイヤーのみによって構成される「商取引ゲーム」を「倫理ある商取引ゲーム」とする。
本章では、「倫理ある商取引ゲーム」において、不正が防止されるインセンティブ設計を行い、
そのインセンティブ設計を通常の「商取引ゲーム」にも適用することで、
プレイヤーの構成によっては不正を防止することが可能になることを示す。

\subsection{倫理ある商取引ゲーム}
「倫理ある商取引ゲーム」とは、$seller$が不正を行った場合に$buyer$がかならず「失敗」を報告する「商取引ゲーム」である。
このゲームのゲーム木と非協力戦略型ゲームの利得は図\ref{ethical-gametree}と表\ref{ethical-gametable}のように表せる。

\subsection{誠実な戦略をとった割合と成功が報告される割合の関係}
「倫理ある商取引ゲーム」においては，全てのプレイヤーは「倫理」に従っているため、
商取引の真の成功率は「商取引システム」に「成功」が報告された割合以上となる。
つまり、任意のプレイヤー$p$と$q$が過去に「商取引ゲーム」を行った際に、
誠実な戦略($s^{seller}_1$もしくは$s^{buyer}_1$)をとってきた割合$HonestStrategyRate(p, q)$と、
成功が報告された割合$ReportedSuccessRate(p, q)$について、次の関係がいえる。

\begin{equation}
  HonestStrategyRate(p, q) \geq ReportedSuccessRate(p, q)
\end{equation}

\section{「倫理ある商取引ゲーム」において不正が防止される条件}
\input{./06_ethical-commerce-game/conditions.tex}

\section{実験方法}
先の不正が防止される条件を満たすインセンティブ設計を行う「商取引システム」と
次の8タイプのエージェントから重複問わずランダムに選んだ8体のエージェントを用意し試行を実施する。
これをタイプAのエージェントが0〜7体を占める場合について、それぞれ8000回づつ繰り返し、
エージェントの構成とstep13で求まる「報告された成功率」と「真の成功率」を記録する。

\subsection{エージェントの種類}
下記の8タイプのエージェントを用意する。
\begin{itemize}
  \item [Type A] sellerのとき商品を送り、buyerのときは商品を受け取った場合は「成功」、受け取らなかった場合は「失敗」を報告する。
  \item [Type B] sellerのとき商品を送り、buyerのときは商品を受け取った場合は「成功」、受け取らなかった場合は「成功」を報告する。
  \item [Type C] sellerのとき商品を送り、buyerのときは商品を受け取った場合は「失敗」、受け取らなかった場合は「成功」を報告する。
  \item [Type D] sellerのとき商品を送り、buyerのときは商品を受け取った場合は「失敗」、受け取らなかった場合は「失敗」を報告する。
  \item [Type E] sellerのとき商品を送らず、buyerのときは商品を受け取った場合は「成功」、受け取らなかった場合は「失敗」を報告する。
  \item [Type F] sellerのとき商品を送らず、buyerのときは商品を受け取った場合は「成功」、受け取らなかった場合は「成功」を報告する。
  \item [Type G] sellerのとき商品を送らず、buyerのときは商品を受け取った場合は「失敗」、受け取らなかった場合は「成功」を報告する。
  \item [Type H] sellerのとき商品を送らず、buyerのときは商品を受け取った場合は「失敗」、受け取らなかった場合は「失敗」を報告する。
\end{itemize}

\subsection{試行}
\begin{itemize}
  \item[step 1] 時刻tを0とする。
  \item[step 2] 「商取引システム」の各エージェントの通貨保有量を8とする。
  \item[step 3] 各プレイヤーが互いにsellerとbuyerのそれぞれの役割で1度づつ商取引ゲームを行う順序を決定する。(順序の長さは56となる)
  \item[step 4] 時刻tを1進める。
  \item[step 5] step 3で決定した順序を周期として、sellerとbuyerを決定する。
  \item[step 6] 「商取引システム」はこれまで報告された結果から、「成功」と「失敗」が報告された場合のsellerとbuyerの通貨保有量を計算する。
  \item[step 7] sellerは自身の戦略に基づいて、buyerに商品を送るか、もしくは商品を送らない。
  \item[step 8] buyerは自身の戦略とstep 6のsellerの行動に基づいて、「商取引ゲーム」 の結果を決定する。
  \item[step 9] buyerは決定した結果を「商取引システム」に報告する。 
  \item[step 10] 「商取引システム」はstep6で計算した通貨保有量がいずれの場合にも0未満にならない場合、 buyerから報告された結果を記録する。
  \item[step 11] step6で計算した通貨保有量がいずれの場合にも0未満にならない場合、真の結果を記録する。
  \item[step 12] 時刻tが1120未満なら、step4に戻る。
  \item[step 13] 過去56回の商取引ゲームにおいて、step10と11で記録された結果を集計し、それぞれ「報告された成功率」と「真の成功率」を求める。
\end{itemize}

\section{「商取引システム」の詳細}
\input{./06_ethical-commerce-game/detail.tex}

\section{評価}
先の実験の結果、「報告された成功率」と「真の成功率」の両方が100\%になった場合を「不正防止の成功」とし、
誠実なエージェント(タイプA)の数と「不正防止の成功」に至った割合をプロットしたものが、図\ref{ethical-game-001}である。
(エージェント数8の場合は、エージェントの組み合わせが1通りしか存在しないため、個別に試行を行い結果を集計している。)
誠実なエージェントの数が0体の場合であっても不正が防止される構成が存在し、
6体以上の場合はサンプリングした全ての構成で不正の防止が成功していた。

\begin{figure}[h]
  \begin{tabular}{cc}
    \begin{minipage}[t]{1\hsize}
      \centering
      \includegraphics[keepaspectratio, width=1\linewidth]{./06_ethical-commerce-game/ethical-game-001.png}
      \caption{誠実なエージェントの数と「不正防止の成功」に至った割合}
      \label{ethical-game-001}
    \end{minipage}
  \end{tabular}
\end{figure}

\section{結論}
実験とその評価を踏まえて、「倫理」という限定合理性を仮定した上でインセンティブ設計を行うことで、
プレイヤーの構成によっては「商取引ゲーム」において不正を防止することが可能であることがわかる。
また、プレイヤーの構成と不正防止の成功成功の関係性については、先の実験の図のとおりである。

\clearpage
\input{./06_ethical-commerce-game/figures.tex}

% 倫理ある商取引ゲーム
% \input{./06_ethical-commerce-game/approach.tex}